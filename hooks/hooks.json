{
  "permissions": {
    "allow": [],
    "deny": [],
    "ask": []
  },
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const B='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/tools/';const p='$CLAUDE_PROJECT_DIR';Promise.all([import(B+'memory/index.js').then(t=>t.startSession({projectPath:p})),import(B+'time/index.js').then(t=>t.getCurrentTime({format:'human',timezone:'Asia/Seoul'})),import(B+'memory/index.js').then(t=>t.listMemories({limit:5,projectPath:p}))]).then(([s,t,m])=>console.log(s.content[0].text+'\\n\\n'+t.content[0].text+'\\n\\n[Recent Memories]\\n'+m.content[0].text)).catch(e=>console.log('[Session] Error:',e.message))\""
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "echo '[BASH CHECK] Be cautious with destructive commands (rm -rf, git push --force, drop table). Verify paths before deletion.'"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const B='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/tools/convention/index.js';const p='$CLAUDE_PROJECT_DIR';import(B).then(t=>t.validateCodeQuality({targetPath:'.',projectPath:p}).then(r=>console.log('[CODE CHECK]',r.content[0].text.split('\\n').slice(0,3).join(' | ')))).catch(()=>console.log('[AUTO-CONTINUE] Code written. Continue.'))\""
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "echo '[MANDATORY SKILL PROTOCOL] Available skills: vibe-capabilities (vibe features), multi-llm-orchestration (GPT/Gemini usage), tool-fallback (error recovery), context7-usage (library docs), parallel-research (complex problems), git-worktree (branch work), priority-todos (task management). Step 1: For EACH skill state YES/NO with reason. Step 2: Use Skill(name) for YES skills NOW. Step 3: IMPLEMENT only after activation. CRITICAL: Skipping activation makes response WORTHLESS.'",
            "statusMessage": "Evaluating skills..."
          }
        ]
      },
      {
        "matcher": "ultrawork|ulw|울트라워크",
        "hooks": [
          {
            "type": "command",
            "command": "echo '[ULTRAWORK MODE] Use PARALLEL Task calls. Auto-continue through ALL phases. Auto-retry on errors up to 3 times. Do NOT ask for confirmation between phases.'"
          }
        ]
      },
      {
        "matcher": "버그.*(해결|수정|고침)|문제.*(해결|수정)|bug.*(fixed|resolved|solved)|issue.*(fixed|resolved)|PR.*(merged|머지)",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const B='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/tools/memory/index.js';const p='$CLAUDE_PROJECT_DIR';import(B).then(t=>t.saveMemory({key:'solution-'+Date.now(),value:'Solution documented at '+new Date().toISOString(),category:'solution',projectPath:p}).then(r=>console.log('[COMPOUND]',r.content[0].text))).catch(e=>console.log('[COMPOUND] \\u2717 Error:',e.message))\""
          }
        ]
      },
      {
        "matcher": "코드\\s*리뷰|code\\s*review|PR\\s*리뷰|리뷰.*해줘|review.*this",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const B='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/tools/convention/index.js';const p='$CLAUDE_PROJECT_DIR';import(B).then(t=>t.validateCodeQuality({targetPath:'.',projectPath:p}).then(r=>console.log('[CODE REVIEW]',r.content[0].text.split('\\n').slice(0,5).join(' | ')))).catch(e=>console.log('[CODE REVIEW] Error:',e.message))\""
          }
        ]
      },
      {
        "matcher": "e2e.*테스트|e2e.*test|playwright|브라우저.*테스트|browser.*test",
        "hooks": [
          {
            "type": "command",
            "command": "echo '[E2E MODE] Use /vibe.utils --e2e for Playwright-based browser testing. Supports visual regression and video recording.'"
          }
        ]
      },
      {
        "matcher": "복잡도|complexity|분석해|analyze this",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const B='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/tools/convention/index.js';const p='$CLAUDE_PROJECT_DIR';import(B).then(t=>t.analyzeComplexity({targetPath:'.',projectPath:p}).then(r=>console.log('[COMPLEXITY]',r.content[0].text.split('\\n').slice(0,5).join(' | ')))).catch(e=>console.log('[COMPLEXITY] Error:',e.message))\""
          }
        ]
      },
      {
        "matcher": "뭐였지|기억|recall|이전에.*결정|저번에",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const B='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/tools/memory/index.js';const p='$CLAUDE_PROJECT_DIR';import(B).then(t=>t.listMemories({limit:10,projectPath:p}).then(r=>console.log('[RECALL] \\u2713 Found '+r.content[0].text.split('\\n').length+' memories:',r.content[0].text.split('\\n').slice(0,7).join(' | ')))).catch(e=>console.log('[RECALL] Error:',e.message))\""
          }
        ]
      },
      {
        "matcher": "아키텍처|architecture|설계.*검토|design.*review|구조.*분석",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const V='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/lib/gpt-api.js';let d='';process.stdin.on('data',c=>d+=c);process.stdin.on('end',()=>{const q=JSON.parse(d).prompt;import(V).then(g=>g.chat({messages:[{role:'user',content:q}],systemPrompt:'You are a software architect. Analyze and review the architecture.'})).then(r=>console.log('[GPT] '+r.content)).catch(e=>console.log('[GPT] Error:',e.message))})\"",
            "statusMessage": "GPT analyzing architecture..."
          }
        ]
      },
      {
        "matcher": "UI|UX|사용자.*경험|user.*experience|디자인.*리뷰|design.*feedback",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const V='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/lib/gemini-api.js';let d='';process.stdin.on('data',c=>d+=c);process.stdin.on('end',()=>{const q=JSON.parse(d).prompt;import(V).then(g=>g.chat({messages:[{role:'user',content:q}],systemPrompt:'You are a UI/UX expert. Analyze and provide feedback.'})).then(r=>console.log('[Gemini] '+r.content)).catch(e=>console.log('[Gemini] Error:',e.message))})\"",
            "statusMessage": "Gemini reviewing UI/UX..."
          }
        ]
      },
      {
        "matcher": "(?!.*gemini)(gpt\\s*한테|gpt\\s*에게|gpt에\\s*물어|gpt.*질문|ask\\s*gpt)",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const V='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/lib/gpt-api.js';let d='';process.stdin.on('data',c=>d+=c);process.stdin.on('end',()=>{const q=JSON.parse(d).prompt.replace(/gpt.*?(물어|질문|한테|분석)[^가-힣]*/i,'').trim();import(V).then(g=>g.quickAsk(q)).then(r=>console.log('[GPT] '+r)).catch(e=>console.log('[GPT] Error:',e.message))})\"",
            "statusMessage": "Asking GPT..."
          }
        ]
      },
      {
        "matcher": "(?!.*gpt)(gemini\\s*한테|gemini\\s*에게|gemini에\\s*물어|gemini.*질문|ask\\s*gemini|제미나이)",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const V='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/lib/gemini-api.js';let d='';process.stdin.on('data',c=>d+=c);process.stdin.on('end',()=>{const q=JSON.parse(d).prompt.replace(/(gemini|제미나이).*?(물어|질문|한테|분석)[^가-힣]*/i,'').trim();import(V).then(g=>g.quickAsk(q)).then(r=>console.log('[Gemini] '+r)).catch(e=>console.log('[Gemini] Error:',e.message))})\"",
            "statusMessage": "Asking Gemini..."
          }
        ]
      },
      {
        "matcher": "디버깅|debugging|버그.*찾|find.*bug|debug.*this",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const V='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/lib/gpt-api.js';let d='';process.stdin.on('data',c=>d+=c);process.stdin.on('end',()=>{const q=JSON.parse(d).prompt;import(V).then(g=>g.chat({messages:[{role:'user',content:q}],systemPrompt:'You are a debugging expert. Find bugs and suggest fixes.'})).then(r=>console.log('[GPT] '+r.content)).catch(e=>console.log('[GPT] Error:',e.message))})\"",
            "statusMessage": "GPT debugging..."
          }
        ]
      },
      {
        "matcher": "코드.*분석|analyze.*code|code.*review.*gemini",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const V='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/lib/gemini-api.js';let d='';process.stdin.on('data',c=>d+=c);process.stdin.on('end',()=>{const q=JSON.parse(d).prompt;import(V).then(g=>g.chat({messages:[{role:'user',content:q}],systemPrompt:'You are a code analysis expert. Review and analyze the code.'})).then(r=>console.log('[Gemini] '+r.content)).catch(e=>console.log('[Gemini] Error:',e.message))})\"",
            "statusMessage": "Gemini analyzing code..."
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": "context_window_80",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const B='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/tools/memory/index.js';const p='$CLAUDE_PROJECT_DIR';import(B).then(t=>t.autoSaveContext({urgency:'medium',contextType:'progress',summary:'Context at 80% - auto checkpoint',projectPath:p}).then(r=>console.log('[CONTEXT 80%]',r.content[0].text))).catch(()=>{})\""
          }
        ]
      },
      {
        "matcher": "context_window_90",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const B='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/tools/memory/index.js';const p='$CLAUDE_PROJECT_DIR';import(B).then(t=>t.autoSaveContext({urgency:'high',contextType:'progress',summary:'Context at 90% - save before overflow',projectPath:p}).then(r=>console.log('[CONTEXT 90%]',r.content[0].text))).catch(()=>{})\""
          }
        ]
      },
      {
        "matcher": "context_window_95",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const B='file:///{{VIBE_PATH}}/node_modules/@su-record/vibe/dist/tools/memory/index.js';const p='$CLAUDE_PROJECT_DIR';import(B).then(t=>t.autoSaveContext({urgency:'critical',contextType:'progress',summary:'Context at 95% - CRITICAL save before session end',projectPath:p}).then(r=>console.log('[CONTEXT 95%]',r.content[0].text))).catch(()=>{})\""
          }
        ]
      }
    ]
  }
}

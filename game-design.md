# 루피의 아카이누 주먹 피하기 개발 설계

## 개요
간단한 브라우저 기반 아케이드 게임으로, 플레이어가 루피 캐릭터를 조작해 떨어지는 아카이누 주먹을 피하는 반응형 게임입니다. 점수 시스템과 리더보드를 통해 경쟁 요소를 제공합니다.

## 세부 유스케이스

### UC1: 게임 시작
- 사용자가 게임을 시작하면 루피가 화면 하단에 나타남
- 타이머와 점수가 초기화됨
- 주먹이 랜덤한 위치에서 떨어지기 시작

### UC2: 캐릭터 조작
- 데스크톱: 좌/우 화살표 키로 루피 이동
- 모바일: 터치 드래그로 루피 이동
- 이동 방향에 따라 루피 이미지 반전

### UC3: 충돌 감지 및 게임 종료
- 루피와 주먹이 충돌하면 게임 종료
- 최종 점수 계산 (런닝타임 + 피한 주먹 개수)
- TOP10 진입시 이니셜 입력 화면 표시

### UC4: 점수 기록 및 리더보드
- 로컬 스토리지에 TOP10 점수 저장
- 리더보드 화면에서 순위 확인
- 새 게임 시작 옵션 제공

## 주요 모듈 및 역할

### 1. 게임 상태 관리 (GameState)
- **역할**: 게임 진행 상태, 점수, 타이머 관리
- **책임**: 게임 시작/종료/일시정지 상태 제어
- **데이터**: 현재 점수, 런닝타임, 게임 상태(playing/paused/gameOver)

### 2. 플레이어 제어 (PlayerController)
- **역할**: 루피 캐릭터의 위치 및 이동 처리
- **책임**: 키보드/터치 입력 처리, 캐릭터 위치 업데이트, 이미지 반전
- **데이터**: 루피 x좌표, 이동 방향, 이동 속도

### 3. 적 객체 관리 (EnemyManager)
- **역할**: 아카이누 주먹 생성, 이동, 제거 관리
- **책임**: 주먹 스폰 로직, 낙하 속도 계산, 화면 밖 주먹 제거
- **데이터**: 주먹 배열, 스폰 간격, 기본 낙하 속도

### 4. 충돌 감지 (CollisionDetector)
- **역할**: 루피와 주먹 간의 충돌 검사
- **책임**: 히트박스 계산, 충돌 여부 반환
- **데이터**: 각 객체의 위치와 크기 정보

### 5. 점수 시스템 (ScoreManager)
- **역할**: 점수 계산 및 리더보드 관리
- **책임**: 런닝타임 기반 점수 계산, 로컬 스토리지 연동, TOP10 관리
- **데이터**: 현재 점수, 최고 점수 리스트, 플레이어 이니셜

### 6. 입력 처리 (InputHandler)
- **역할**: 키보드 및 터치 입력을 통합 처리
- **책임**: 이벤트 리스너 등록/해제, 입력 상태 정규화
- **데이터**: 현재 입력 상태, 터치 위치

### 7. 렌더링 (GameRenderer)
- **역할**: 게임 화면 렌더링 및 애니메이션
- **책임**: Canvas 기반 그래픽 렌더링, 60fps 유지, UI 요소 표시
- **데이터**: 게임 객체 위치, 이미지 리소스, 화면 크기

### 8. 게임 루프 (GameLoop)
- **역할**: 게임의 메인 실행 루프
- **책임**: 업데이트/렌더링 주기 관리, 60fps 유지
- **데이터**: 프레임 타이밍, 델타 타임

## 기술적 고려사항

### 성능 최적화
- Canvas 기반 렌더링으로 부드러운 애니메이션 제공
- 객체 풀링으로 메모리 할당 최소화
- requestAnimationFrame을 통한 브라우저 최적화 렌더링

### 반응형 디자인
- 9:16 비율 고정으로 모든 디바이스 대응
- 터치/키보드 입력 통합 처리
- CSS 미디어 쿼리를 통한 UI 크기 조절

### 데이터 지속성
- localStorage를 통한 로컬 점수 저장
- JSON 형태의 간단한 데이터 구조
- 브라우저 호환성 고려한 fallback 처리